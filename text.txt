Agis comme un Expert Base de Données et DevOps. Je veux finaliser la structure de la base de données de mon application "ArcOps".

Nous passons à la **version 2.2** de la structure. Comme j'ai fait beaucoup de modifications (ajout de tables, changement de logique pour les favoris), je veux repartir sur une base propre.

### TA MISSION :
Génère un fichier SQL unique (`schema_v2.2.sql`) qui réalise les actions suivantes :

1.  **Nettoyage (Reset)** : Désactive les vérifications de clés étrangères, et supprime (DROP) toutes les tables existantes (`users`, `projects`, `project_members`, `project_objectives`, `project_agenda`, `user_project_pins`).
2.  **Création (Schema)** : Crée les tables avec la structure exacte ci-dessous.
3.  **Remplissage (Seeding)** : C'est le plus important. Ajoute des données de démo réalistes pour que je puisse tester tout de suite :
    * **Utilisateurs** :
        * Un Admin : `admin` / `admin@arcops.local` / Mots de passe hashé pour `go_admin_1234!!` / Rôle `admin`.
        * Un User : `membre` / `membre@arcops.local` / Mots de passe hashé / Rôle `user`.
    * **Projets** : Crée 2 projets.
        * Projet A : "Migration Cloud" (Owner: Admin).
        * Projet B : "Refonte UI" (Owner: Membre).
    * **Membres** : Ajoute l'admin dans le projet B en tant que 'viewer', et le membre dans le projet A en tant que 'editor'.
    * **Objectifs** : Ajoute 3 objectifs pondérés dans le Projet A (ex: 20%, 30%, 50%).
    * **Agenda** : Ajoute 2 événements futurs dans l'agenda du Projet A.
    * **Favoris (Pins)** : Fais en sorte que l'Admin ait épinglé le Projet A (table `user_project_pins`).

### VOICI LA STRUCTURE CIBLE (v2.2) :

```sql
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(100) NOT NULL UNIQUE,
    email VARCHAR(150) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    role VARCHAR(20) DEFAULT 'user',
    avatar_url VARCHAR(255) DEFAULT 'assets/PhotoProfile/default_avatar.png',
    bio TEXT,
    has_leaked TINYINT(1) DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB;

CREATE TABLE projects (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(150) NOT NULL,
    description TEXT,
    status VARCHAR(50) DEFAULT 'En Cours',
    visibility VARCHAR(20) DEFAULT 'private',
    progression INT DEFAULT 0,
    image_url VARCHAR(255) DEFAULT NULL,
    owner_id INT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (owner_id) REFERENCES users(id) ON DELETE CASCADE
) ENGINE=InnoDB;

CREATE TABLE user_project_pins (
    user_id INT NOT NULL,
    project_id INT NOT NULL,
    pinned_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (user_id, project_id),
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE
) ENGINE=InnoDB;

CREATE TABLE project_members (
    project_id INT NOT NULL,
    user_id INT NOT NULL,
    role VARCHAR(50) DEFAULT 'viewer',
    joined_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (project_id, user_id),
    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
) ENGINE=InnoDB;

CREATE TABLE project_objectives (
    id INT AUTO_INCREMENT PRIMARY KEY,
    project_id INT NOT NULL,
    text VARCHAR(255) NOT NULL,
    is_done TINYINT(1) DEFAULT 0,
    weight INT DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE
) ENGINE=InnoDB;

CREATE TABLE project_agenda (
    id INT AUTO_INCREMENT PRIMARY KEY,
    project_id INT NOT NULL,
    title VARCHAR(255) NOT NULL,
    start_event DATETIME NOT NULL,
    end_event DATETIME NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE
) ENGINE=InnoDB;